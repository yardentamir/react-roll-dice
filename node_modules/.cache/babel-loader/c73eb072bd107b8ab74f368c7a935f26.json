{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\yarden\\\\Desktop\\\\projects\\\\programming\\\\react-roll-dice\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _classCallCheck from\"C:\\\\Users\\\\yarden\\\\Desktop\\\\projects\\\\programming\\\\react-roll-dice\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";import _createClass from\"C:\\\\Users\\\\yarden\\\\Desktop\\\\projects\\\\programming\\\\react-roll-dice\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";import _assertThisInitialized from\"C:\\\\Users\\\\yarden\\\\Desktop\\\\projects\\\\programming\\\\react-roll-dice\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\assertThisInitialized.js\";import _inherits from\"C:\\\\Users\\\\yarden\\\\Desktop\\\\projects\\\\programming\\\\react-roll-dice\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";import _createSuper from\"C:\\\\Users\\\\yarden\\\\Desktop\\\\projects\\\\programming\\\\react-roll-dice\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";import React,{Component}from\"react\";import\"./dicegame.scss\";import Buttons from\"../../Components/Buttons/Buttons\";import Player from\"../../Components/player/Player\";import Dice from\"../../Components/Dice/Dice\";import WinningMessage from\"../../Components/WinnerMessage/WinnerMessage\";import EnterGame from\"../EnterGame/EnterGame\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DiceGame=/*#__PURE__*/function(_Component){_inherits(DiceGame,_Component);var _super=_createSuper(DiceGame);function DiceGame(props){var _this;_classCallCheck(this,DiceGame);_this=_super.call(this,props);_this.state={back:false,winner:-1,playersTurn:0,players:[{totalScore:0,tempScore:0},{totalScore:0,tempScore:0}]};_this.handelDices=_this.handelDices.bind(_assertThisInitialized(_this));_this.handelHold=_this.handelHold.bind(_assertThisInitialized(_this));_this.resetGame=_this.resetGame.bind(_assertThisInitialized(_this));_this.backToEnterGame=_this.backToEnterGame.bind(_assertThisInitialized(_this));_this.dicesArr=[\"Roll\",\"Dice\"];return _this;}_createClass(DiceGame,[{key:\"handelDices\",value:function handelDices(){for(var i=0;i<this.dicesArr.length;i++){this.dicesArr[i]=Math.floor(Math.random()*6)+1;}if(this.dicesArr[0]===this.dicesArr[1]){this.resetCurrentPlayerValues();this.ChangeTurn();}else{this.totalScorePlayer(this.tempScorePlayer());}}},{key:\"renderDices\",value:function renderDices(){return this.dicesArr.map(function(dice,i){return/*#__PURE__*/_jsx(Dice,{value:dice},i);});}},{key:\"ChangeTurn\",value:function ChangeTurn(){this.setState(function(pervState){return pervState.playersTurn=1-pervState.playersTurn;});}},{key:\"totalScorePlayer\",value:function totalScorePlayer(tempScorePlayer){var _this2=this;this.setState(function(pervState){return pervState.players[_this2.state.playersTurn].totalScore+=tempScorePlayer;});}},{key:\"tempScorePlayer\",value:function tempScorePlayer(){var _this3=this;var tempScore=this.dicesArr.reduce(function(a,b){return a+b;},0);this.setState(function(pervState){return pervState.players[_this3.state.playersTurn].tempScore=tempScore;});return tempScore;}},{key:\"resetCurrentPlayerValues\",value:function resetCurrentPlayerValues(){var _this4=this;this.setState(function(pervState){return pervState.players[_this4.state.playersTurn].totalScore=0;});this.setState(function(pervState){return pervState.players[_this4.state.playersTurn].tempScore=0;});}},{key:\"handelHold\",value:function handelHold(){var _this5=this;this.state.players.forEach(function(player,index){if(player.totalScore>=sessionStorage.getItem(\"maxPoints\")){_this5.setState(function(pervState){return _objectSpread(_objectSpread({},pervState),{},{winner:index});});return;}});this.ChangeTurn();}},{key:\"resetGame\",value:function resetGame(){this.setState({back:false,winner:-1,playersTurn:0,players:[{totalScore:0,tempScore:0},{totalScore:0,tempScore:0}]});this.dicesArr=[\"Roll\",\"Dice\"];}},{key:\"backToEnterGame\",value:function backToEnterGame(){this.resetGame();this.setState({back:true});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[this.state.back?/*#__PURE__*/_jsx(EnterGame,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container\",children:[/*#__PURE__*/_jsx(Player,{id:0,className:\"player-div\",totalScore:this.state.players[0].totalScore,playerTurn:this.state.playersTurn,tempScore:this.state.players[0].tempScore,playerName:sessionStorage.getItem('name0')},0),/*#__PURE__*/_jsxs(\"div\",{className:\"columns-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"points-to-win\",children:[\"Points To Win: \",sessionStorage.getItem('maxPoints')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(Buttons,{text:\"NEW GAME\",callback:this.resetGame}),/*#__PURE__*/_jsx(Buttons,{text:\"BACK\",callback:this.backToEnterGame})]})]}),/*#__PURE__*/_jsx(\"div\",{children:this.renderDices()}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(Buttons,{callback:this.handelDices,text:\"ROLL DICE\"},0),/*#__PURE__*/_jsx(Buttons,{callback:this.handelHold,text:\"HOLD\"},1)]})]}),/*#__PURE__*/_jsx(Player,{id:1,className:\"player-div\",totalScore:this.state.players[1].totalScore,playerTurn:this.state.playersTurn,tempScore:this.state.players[1].tempScore,playerName:sessionStorage.getItem('name1')},1)]}),this.state.winner>-1&&/*#__PURE__*/_jsx(WinningMessage,{winnerName:sessionStorage.getItem(\"name\".concat(this.state.winner)),newGameCallback:this.resetGame,backToEnterGameCallback:this.backToEnterGame})]});}}]);return DiceGame;}(Component);export{DiceGame as default};","map":{"version":3,"sources":["C:/Users/yarden/Desktop/projects/programming/react-roll-dice/src/Pages/DiceGame/DiceGame.jsx"],"names":["React","Component","Buttons","Player","Dice","WinningMessage","EnterGame","DiceGame","props","state","back","winner","playersTurn","players","totalScore","tempScore","handelDices","bind","handelHold","resetGame","backToEnterGame","dicesArr","i","length","Math","floor","random","resetCurrentPlayerValues","ChangeTurn","totalScorePlayer","tempScorePlayer","map","dice","setState","pervState","reduce","a","b","forEach","player","index","sessionStorage","getItem","renderDices"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./dicegame.scss\";\r\nimport Buttons from \"../../Components/Buttons/Buttons\";\r\nimport Player from \"../../Components/player/Player\";\r\nimport Dice from \"../../Components/Dice/Dice\";\r\nimport WinningMessage from \"../../Components/WinnerMessage/WinnerMessage\";\r\nimport EnterGame from \"../EnterGame/EnterGame\"\r\n\r\n\r\nexport default class DiceGame extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      back: false,\r\n      winner: -1,\r\n      playersTurn: 0,\r\n      players: [\r\n        {\r\n          totalScore: 0,\r\n          tempScore: 0,\r\n        },\r\n        {\r\n          totalScore: 0,\r\n          tempScore: 0,\r\n        },\r\n      ],\r\n    }\r\n    this.handelDices = this.handelDices.bind(this);\r\n    this.handelHold = this.handelHold.bind(this);\r\n    this.resetGame = this.resetGame.bind(this);\r\n    this.backToEnterGame = this.backToEnterGame.bind(this);\r\n    this.dicesArr = [\"Roll\", \"Dice\"];\r\n  }\r\n\r\n  handelDices() {\r\n    for (let i = 0; i < this.dicesArr.length; i++) {\r\n      this.dicesArr[i] = Math.floor(Math.random() * 6) + 1;\r\n    }\r\n    if (this.dicesArr[0] === this.dicesArr[1]) {\r\n      this.resetCurrentPlayerValues();\r\n      this.ChangeTurn();\r\n    } else {\r\n      this.totalScorePlayer(this.tempScorePlayer());\r\n    }\r\n  }\r\n\r\n  renderDices() {\r\n    return this.dicesArr.map((dice, i) => {\r\n      return <Dice key={i} value={dice} />\r\n    })\r\n  }\r\n\r\n  ChangeTurn() {\r\n    this.setState((pervState) => {\r\n      return pervState.playersTurn = 1 - pervState.playersTurn;\r\n    });\r\n  }\r\n\r\n  totalScorePlayer(tempScorePlayer) {\r\n    this.setState((pervState) => {\r\n      return pervState.players[this.state.playersTurn].totalScore += tempScorePlayer;\r\n    });\r\n  }\r\n\r\n  tempScorePlayer() {\r\n    const tempScore = this.dicesArr.reduce((a, b) => a + b, 0);\r\n    this.setState((pervState) => {\r\n      return pervState.players[this.state.playersTurn].tempScore = tempScore;\r\n    });\r\n    return tempScore;\r\n  }\r\n\r\n  resetCurrentPlayerValues() {\r\n    this.setState((pervState) => {\r\n      return pervState.players[this.state.playersTurn].totalScore = 0;\r\n    });\r\n    this.setState((pervState) => {\r\n      return pervState.players[this.state.playersTurn].tempScore = 0;\r\n    });\r\n  }\r\n\r\n  handelHold() {\r\n    this.state.players.forEach((player, index) => {\r\n      if (player.totalScore >= sessionStorage.getItem(\"maxPoints\")) {\r\n        this.setState((pervState) => {\r\n          return { ...pervState, winner: index };\r\n        });\r\n        return;\r\n      }\r\n    })\r\n    this.ChangeTurn();\r\n  }\r\n\r\n\r\n\r\n  resetGame() {\r\n    this.setState(\r\n      {\r\n        back: false,\r\n        winner: -1,\r\n        playersTurn: 0,\r\n        players: [\r\n          {\r\n            totalScore: 0,\r\n            tempScore: 0,\r\n          },\r\n          {\r\n            totalScore: 0,\r\n            tempScore: 0,\r\n          },\r\n        ],\r\n      }\r\n    )\r\n    this.dicesArr = [\"Roll\", \"Dice\"];\r\n\r\n  }\r\n\r\n  backToEnterGame() {\r\n    this.resetGame();\r\n    this.setState({ back: true });\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.back ? <EnterGame /> :\r\n          <div className=\"flex-container\">\r\n            <Player key={0} id={0} className=\"player-div\" totalScore={this.state.players[0].totalScore} playerTurn={this.state.playersTurn} tempScore={this.state.players[0].tempScore} playerName={sessionStorage.getItem('name0')} />\r\n            <div className=\"columns-container\">\r\n              <div>\r\n                <h2 className=\"points-to-win\">Points To Win: {sessionStorage.getItem('maxPoints')}</h2>\r\n                <div className=\"button-group\">\r\n                  <Buttons text=\"NEW GAME\" callback={this.resetGame} />\r\n                  <Buttons text=\"BACK\" callback={this.backToEnterGame} />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {this.renderDices()}\r\n              </div>\r\n              <div className=\"button-group\">\r\n                <Buttons key={0} callback={this.handelDices} text=\"ROLL DICE\" />\r\n                <Buttons key={1} callback={this.handelHold} text=\"HOLD\" />\r\n              </div>\r\n            </div>\r\n            <Player key={1} id={1} className=\"player-div\" totalScore={this.state.players[1].totalScore} playerTurn={this.state.playersTurn} tempScore={this.state.players[1].tempScore} playerName={sessionStorage.getItem('name1')} />\r\n          </div>\r\n        }\r\n        {this.state.winner > -1 && <WinningMessage winnerName={sessionStorage.getItem(`name${this.state.winner}`)} newGameCallback={this.resetGame} backToEnterGameCallback={this.backToEnterGame} />}\r\n      </>\r\n\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}